// No Analyzer.jsx, adicione no início:
const YOUR_SERVER_URL = "https://seu-app.railway.app";

// Depois substitua a função fetchRealtimePrice:
const fetchRealtimePrice = async (symbol) => {
  try {
    const cleanSymbol = symbol
      .replace(' (OTC)', '')
      .replace(' (Aberto)', '')
      .trim()
      .replace(/\s+/g, '');
    
    const response = await fetch(`${YOUR_SERVER_URL}/price/${cleanSymbol}`);
    const data = await response.json();
    
    if (data.error) {
      throw new Error(data.error);
    }
    
    return {
      symbol: cleanSymbol,
      price: data.price,
      timestamp: new Date(data.timestamp * 1000).toISOString(),
      high: data.price,
      low: data.price,
      percent_change: 0,
      exchange: 'Quotex WebSocket'
    };
  } catch (error) {
    console.error('Erro ao buscar preço:', error);
    throw error;
  }
};